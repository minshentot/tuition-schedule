<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8" />
  <title>Teacher Ooi Tuition è¡¥ä¹ èµ„è®¯ æœç´¢ç³»ç»Ÿ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top left, #f8fafc 0, #e0f2fe 40%, #eef2ff 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #0f172a;
    }

    .container {
      width: 100%;
      max-width: 960px;
      background: #ffffffee;
      border-radius: 18px;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.16);
      padding: 24px 20px 28px;
      backdrop-filter: blur(10px);
    }

    @media (min-width: 768px) {
      .container {
        padding: 28px 32px 32px;
      }
    }

    .title {
      text-align: center;
      margin-bottom: 6px;
      font-size: clamp(1.4rem, 3vw, 1.8rem);
      font-weight: 800;
      letter-spacing: 0.04em;
      background: linear-gradient(120deg, #0f172a, #1d4ed8, #0ea5e9);
      -webkit-background-clip: text;
      color: transparent;
    }

    .subtitle {
      text-align: center;
      font-size: 0.88rem;
      color: #64748b;
      margin-bottom: 20px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: #e0f2fe;
      color: #0f172a;
      font-size: 0.78rem;
      margin-bottom: 6px;
    }

    .badge-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
    }

    .section {
      margin-top: 18px;
    }

    .card {
      border-radius: 16px;
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      padding: 16px 14px 18px;
    }

    @media (min-width: 768px) {
      .card {
        padding: 18px 18px 20px;
      }
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      gap: 8px;
    }

    .card-title {
      font-weight: 700;
      font-size: 0.98rem;
      color: #0f172a;
    }

    .card-subtitle {
      font-size: 0.8rem;
      color: #94a3b8;
    }

    label {
      font-size: 0.85rem;
      color: #0f172a;
      font-weight: 600;
      margin-bottom: 4px;
      display: block;
    }

    input[type="password"], input[type="text"] {
      width: 100%;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid #cbd5f5;
      background: #ffffff;
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }

    input[type="password"]:focus, input[type="text"]:focus {
      border-color: #2563eb;
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.18);
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      border: none;
      border-radius: 999px;
      padding: 8px 16px;
      margin-top: 8px;
      font-size: 0.88rem;
      font-weight: 600;
      cursor: pointer;
      background: linear-gradient(135deg, #2563eb, #0ea5e9);
      color: white;
      box-shadow: 0 8px 18px rgba(37, 99, 235, 0.35);
      transition: transform 0.08s ease, box-shadow 0.12s ease, opacity 0.15s ease;
    }

    .btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 10px 22px rgba(37, 99, 235, 0.45);
      opacity: 0.96;
    }

    .btn:active {
      transform: translateY(0);
      box-shadow: 0 5px 12px rgba(37, 99, 235, 0.35);
    }

    .btn-ghost {
      background: transparent;
      color: #64748b;
      box-shadow: none;
      padding-inline: 10px;
      margin-top: 0;
      border: none;
      cursor: pointer;
      font-size: 0.82rem;
    }

    .btn-ghost:hover {
      background: #e2e8f0;
      box-shadow: none;
      transform: none;
    }

    .helper-text {
      font-size: 0.78rem;
      color: #94a3b8;
      margin-top: 4px;
      line-height: 1.5;
    }

    .message {
      margin-top: 8px;
      font-size: 0.8rem;
    }

    .message-error {
      color: #b91c1c;
    }

    .hidden {
      display: none !important;
    }

    .hint-list {
      font-size: 0.8rem;
      color: #64748b;
      margin-top: 6px;
      list-style: disc;
      padding-left: 16px;
    }

    .hint-list li + li {
      margin-top: 2px;
    }

    .section-title {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 8px;
      color: #0f172a;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title span.icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      background: #2563eb;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.72rem;
      color: white;
    }

    .parent-tip {
      font-size: 0.82rem;
      color: #4b5563;
      background: #fefce8;
      border: 1px solid #facc15;
      border-radius: 12px;
      padding: 10px 10px;
      margin-bottom: 10px;
      line-height: 1.5;
    }

    .parent-tip strong {
      color: #854d0e;
    }

    .info-line {
      font-size: 0.86rem;
      margin-bottom: 4px;
      color: #111827;
    }

    .info-line span {
      font-weight: 600;
      color: #1d4ed8;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 0.8rem;
    }

    thead {
      background: #e5effe;
    }

    th, td {
      padding: 6px 6px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
      vertical-align: top;
    }

    th {
      font-weight: 700;
      color: #1f2937;
      font-size: 0.78rem;
      white-space: nowrap;
    }

    tbody tr:nth-child(even) {
      background: #f9fafb;
    }

    .tag {
      display: inline-flex;
      padding: 2px 7px;
      border-radius: 999px;
      font-size: 0.7rem;
      background: #e0f2fe;
      color: #0369a1;
    }

    .tag-subject {
      background: #fee2e2;
      color: #b91c1c;
    }

    .small-note {
      font-size: 0.74rem;
      color: #94a3b8;
      margin-top: 8px;
    }

    .admin-layout {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    @media (min-width: 900px) {
      .admin-layout {
        flex-direction: row;
        align-items: flex-start;
      }
      .admin-left {
        flex: 0 0 260px;
      }
      .admin-right {
        flex: 1;
      }
    }

    .admin-note-list {
      font-size: 0.8rem;
      color: #4b5563;
      padding-left: 16px;
      list-style: decimal;
      margin-top: 6px;
    }

    .admin-note-list li + li {
      margin-top: 4px;
    }

    details {
      margin-top: 6px;
      font-size: 0.8rem;
    }

    details summary {
      cursor: pointer;
      color: #2563eb;
      font-weight: 600;
      list-style: none;
    }

    details[open] summary {
      margin-bottom: 4px;
    }

    .search-row {
      display: flex;
      gap: 8px;
      align-items: center;
      margin-top: 6px;
      flex-wrap: wrap;
    }

    .search-input {
      flex: 1;
    }

    .search-input input {
      width: 100%;
    }

    .no-data {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 8px;
      text-align: center;
    }

    .highlight-name {
      font-weight: 700;
      color: #0f172a;
    }
  </style>
</head>
<body>
<div class="container">
  <div class="badge">
    <span class="badge-dot"></span>
    Teacher Ooi Tuition â€¢ è¡¥ä¹ æ—¶é—´ & åŠŸè¯¾æŸ¥è¯¢
  </div>
  <h1 class="title">Teacher Ooi Tuition è¡¥ä¹ èµ„è®¯ æœç´¢ç³»ç»Ÿ</h1>
  <p class="subtitle">è¯·è¾“å…¥è€å¸ˆæä¾›çš„ access codeï¼Œä»¥æŸ¥çœ‹è¡¥ä¹ æ—¶é—´ã€ç§‘ç›®ä¸åŠŸè¯¾å®‰æ’</p>

  <!-- ç™»å½•åŒºåŸŸ -->
  <section id="loginSection" class="section">
    <div class="card">
      <div class="card-header">
        <div>
          <div class="card-title">è¯·è¾“å…¥ Access Code</div>
          <div class="card-subtitle">å­¦ç”Ÿ / å®¶é•¿è¯·ä½¿ç”¨è€å¸ˆç»™ä½ çš„ä¸“å± access code</div>
        </div>
      </div>

      <label for="accessCode">Access Code</label>
      <input id="accessCode" type="password" placeholder="åœ¨è¿™é‡Œè¾“å…¥ access codeï¼Œç„¶åæŒ‰ Enter æˆ–æŒ‰é’®" />
      <button class="btn" onclick="handleLogin()">
        è¿›å…¥è¡¥ä¹ èµ„è®¯
      </button>

      <div id="loginMessage" class="message"></div>

      <ul class="hint-list">
        <li>æ¯ä½å­¦ç”Ÿ / å®¶é•¿éƒ½æœ‰ä¸ªäººä¸“å± access codeã€‚</li>
        <li>å¦‚å¿˜è®°æˆ–é—å¤±ï¼Œè¯·ç›´æ¥å‘è€å¸ˆç´¢å–æ–°çš„ access codeã€‚</li>
      </ul>
      <p class="helper-text">
        æ¸©é¦¨æé†’ï¼šæœ¬ç³»ç»Ÿåªè´Ÿè´£æ˜¾ç¤ºæ’è¯¾ä¸åŠŸè¯¾èµ„è®¯ï¼Œä¸ä¼šåœ¨ç”»é¢ä¸Šæ˜¾ç¤ºä»»ä½• access code è¯¦æƒ…ï¼Œä»¥ä¿æŠ¤æ‰€æœ‰å­¦ç”Ÿä¸å®¶åº­çš„éšç§ã€‚
      </p>
    </div>
  </section>

  <!-- ä¸»å†…å®¹åŒºåŸŸï¼ˆç™»å½•åæ˜¾ç¤ºï¼‰ -->
  <section id="mainSection" class="section hidden">
    <div class="card">
      <div class="card-header">
        <div>
          <div class="card-title" id="welcomeTitle"></div>
          <div class="card-subtitle" id="welcomeSubtitle"></div>
        </div>
        <button class="btn-ghost" onclick="handleLogout()">é€€å‡º / åˆ‡æ¢è´¦å·</button>
      </div>

      <!-- å­¦ç”Ÿ / å®¶é•¿è§†å›¾ -->
      <div id="studentView" class="hidden">
        <div class="section-title">
          <span class="icon">âœ“</span>
          <span>ç»™å®¶é•¿ / å­¦ç”Ÿçš„å°æé†’</span>
        </div>

        <div class="parent-tip">
          <strong>æ¸©é¦¨æé†’ï¼š</strong>
          æ¬¢è¿æ¥åˆ° <strong>Teacher Ooi Tuition è¡¥ä¹ èµ„è®¯æœç´¢ç³»ç»Ÿ</strong>ã€‚ä»¥ä¸‹æ˜¯
          <span id="studentNameInTip" class="highlight-name"></span>
          è¿‘æœŸçš„è¡¥ä¹ æ—¶é—´ä¸ç§‘ç›®å®‰æ’ã€‚<br><br>
          è€å¸ˆè‹¥æœ‰ä¸´æ—¶è°ƒæ•´ï¼ˆæ—¶é—´å˜åŠ¨ã€åŠ è¯¾ã€æ”¹ç§‘ç›®ï¼‰ï¼Œä¼šåœ¨è¿™é‡Œæ›´æ–°ï¼Œè¯·å®¶é•¿ï¼š<br>
          â€¢ å»ºè®®æ¯å‘¨è‡³å°‘æŸ¥çœ‹ä¸€æ¬¡ï¼›<br>
          â€¢ å¦‚å¯¹æ—¶é—´æˆ–åŠŸè¯¾æœ‰ç–‘é—®ï¼Œæ¬¢è¿ç›´æ¥ WhatsApp è€å¸ˆç¡®è®¤ï¼›<br>
          â€¢ è‹¥å­¦ç”Ÿå½“å¤©èº«ä½“ä¸é€‚æˆ–æœ‰é‡è¦æ´»åŠ¨ï¼Œè¯·å°½æ—©é€šçŸ¥è€å¸ˆï¼Œä»¥ä¾¿å®‰æ’è¡¥è¯¾ã€‚
        </div>

        <div class="info-line">
          å½“å‰ç™»å…¥å­¦ç”Ÿï¼š<span id="studentFullName"></span>
        </div>

        <table id="studentTable">
          <thead>
          <tr>
            <th>æ—¥æœŸ</th>
            <th>æ˜ŸæœŸ</th>
            <th>æ—¶é—´</th>
            <th>åœ°ç‚¹</th>
            <th>ç§‘ç›®</th>
            <th>åŠŸè¯¾ / ä½œä¸š</th>
            <th>å¤‡æ³¨</th>
          </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div id="studentNoData" class="no-data hidden">
          ç›®å‰è¿˜æ²¡æœ‰æ‰¾åˆ°å±äºè¯¥å­¦ç”Ÿçš„è¡¥ä¹ å®‰æ’ï¼Œè¯·ç¨åå†æŸ¥çœ‹æˆ–è”ç»œè€å¸ˆã€‚
        </div>
        <p class="small-note">
          æç¤ºï¼šè‹¥æœ‰è€ƒè¯•å‰åŠ è¯¾ã€è¡¥è¯¾å®‰æ’ï¼Œè¯·ç‰¹åˆ«ç•™æ„ã€Œå¤‡æ³¨ã€æ ã€‚
        </p>
      </div>

      <!-- Admin è§†å›¾ï¼ˆåªæœ‰çŸ¥é“ admin code çš„äººæ‰è¿›å¾—åˆ°ï¼‰ -->
      <div id="adminView" class="hidden">
        <div class="admin-layout">
          <div class="admin-left">
            <div class="section-title">
              <span class="icon">A</span>
              <span>è€å¸ˆä¸“ç”¨æ’è¯¾æ€»è§ˆ</span>
            </div>
            <p class="info-line">
              å½“å‰æ¨¡å¼ï¼š<span style="font-weight:700;color:#1d4ed8;">è€å¸ˆç®¡ç†æ¨¡å¼ï¼ˆAdminï¼‰</span>
            </p>
            <p class="info-line" style="margin-top:4px;">
              æœ¬é¡µé¢æ‰€æœ‰æ’è¯¾èµ„æ–™ï¼Œéƒ½æ˜¯ç”±è€å¸ˆåœ¨ GitHub ä¸Šç¼–è¾‘
              <span style="font-weight:700;">ACCESS_CODES</span> ä¸
              <span style="font-weight:700;">SCHEDULE</span> è‡ªåŠ¨ç”Ÿæˆã€‚
            </p>

            <details>
              <summary>ğŸ“± æ‰‹æœºä¸Šå¿«é€Ÿä¿®æ”¹æ—¶é—´è¡¨ï¼ˆç»™è€å¸ˆï¼‰</summary>
              <ol class="admin-note-list">
                <li>æ‰“å¼€æ‰‹æœºæµè§ˆå™¨ï¼Œç™»å…¥ GitHub å¸å·ã€‚</li>
                <li>è¿›å…¥å­˜æ”¾è¿™ä¸ªç½‘é¡µçš„ repoï¼Œç‚¹è¿› <code>index.html</code>ã€‚</li>
                <li>ç‚¹å³ä¸Šè§’é“…ç¬”å›¾æ ‡ï¼ˆEditï¼‰ï¼Œçœ‹åˆ°æ•´ä»½ä»£ç ã€‚</li>
                <li>å¾€ä¸‹æ»‘ï¼Œæ‰¾åˆ°æ³¨é‡Š
                  <code>// ===== 1. è®¾å®š Access Code å’Œå­¦ç”Ÿèµ„æ–™ =====</code>
                  ä¸
                  <code>// ===== 2. è®¾å®šè¡¥ä¹ æ—¶é—´è¡¨ SCHEDULE =====</code>ã€‚
                </li>
                <li>ç…§ç€é‡Œé¢çš„æ ¼å¼ä¿®æ”¹å­¦ç”Ÿåå­—ã€access code æˆ–æ—¶é—´è¡¨å†…å®¹ã€‚</li>
                <li>æ‹‰åˆ°æœ€åº•ï¼ŒæŒ‰ <strong>Commit changes</strong> ä¿å­˜ã€‚</li>
                <li>é‡æ–°æ•´ç†å®¶é•¿ç”¨çš„ç½‘å€ï¼Œæœ€æ–°èµ„è®¯ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li>
              </ol>
            </details>

            <details>
              <summary>ğŸ“ æ›´æ”¹ access code / æ–°å¢å­¦ç”Ÿï¼ˆç»™è€å¸ˆï¼‰</summary>
              <ul class="admin-note-list">
                <li>åœ¨ <code>ACCESS_CODES</code> é‡Œé¢ï¼Œæ¯ä¸€ä½å­¦ç”Ÿæ˜¯ä¸€å°æ®µèµ„æ–™ï¼ˆfullName / shortName / codeï¼‰ã€‚</li>
                <li><code>shortName</code> è¦è·Ÿæ—¶é—´è¡¨ <code>SCHEDULE</code> é‡Œé¢ <code>students</code> çš„åå­—ä¸€è‡´ï¼ˆä¾‹å¦‚ "Lucas"ï¼‰ã€‚</li>
                <li>è¦æ¢ access codeï¼šåªæ”¹è¯¥å­¦ç”Ÿé‚£ä¸€æ®µçš„ <code>code: "â€¦â€¦"</code>ã€‚</li>
                <li>è¦åŠ æ–°å­¦ç”Ÿï¼šå¤åˆ¶ä¸€å°æ®µï¼Œæ”¹åå­—å’Œ code å³å¯ã€‚</li>
              </ul>
            </details>

            <details>
              <summary>ğŸ“š æ›´æ”¹æ’è¯¾å†…å®¹ï¼ˆæ—¥æœŸ / ç§‘ç›® / åŠŸè¯¾ç­‰ï¼‰</summary>
              <ul class="admin-note-list">
                <li>åœ¨ <code>SCHEDULE</code> æ•°ç»„ä¸­ï¼Œæ¯ä¸€ä¸ª <code>{ ... }</code> æ˜¯ä¸€å ‚è¯¾ã€‚</li>
                <li>å¯ä»¥ä¿®æ”¹ï¼šæ—¥æœŸã€æ˜ŸæœŸã€æ—¶é—´ã€åœ°ç‚¹ã€å­¦ç”Ÿåå•ã€ç§‘ç›®ã€‚</li>
                <li><code>homework</code>ï¼šå¯ä»¥å¡«å†™ã€Œè¯¾æœ¬ç¬¬å‡ é¡µã€ã€Œç»ƒä¹ ã€ç­‰åŠŸè¯¾è¯´æ˜ã€‚</li>
                <li><code>remark</code>ï¼šå¯ä»¥å¡«å†™ã€Œè¡¥è¯¾ã€ã€Œè€ƒè¯•å‰åŠ è¯¾ã€ã€Œè¯·è‡ªå¤‡è¯¾æœ¬ã€ç­‰å¤‡æ³¨ã€‚</li>
              </ul>
            </details>
          </div>

          <div class="admin-right">
            <div class="card-subtitle" style="margin-bottom:6px;">å®Œæ•´æ’è¯¾æ€»è§ˆï¼ˆä»…è€å¸ˆçœ‹å¾—åˆ°ï¼‰</div>
            <div class="search-row">
              <div class="search-input">
                <input id="adminSearch" type="text" placeholder="å¿«é€Ÿæœç´¢ï¼šå­¦ç”Ÿåå­— / ç§‘ç›® / æ—¥æœŸ å…³é”®å­—â€¦" oninput="filterAdminTable()" />
              </div>
              <span class="small-note">ä¾‹å¦‚ï¼š<code>Lucas</code>ã€<code>æ•°å­¦</code>ã€<code>12æœˆ7æ—¥</code></span>
            </div>

            <table id="adminTable">
              <thead>
              <tr>
                <th>æ—¥æœŸ</th>
                <th>æ˜ŸæœŸ</th>
                <th>æ—¶é—´</th>
                <th>åœ°ç‚¹</th>
                <th>å­¦ç”Ÿ</th>
                <th>ç§‘ç›®</th>
                <th>åŠŸè¯¾ / ä½œä¸š</th>
                <th>å¤‡æ³¨</th>
              </tr>
              </thead>
              <tbody></tbody>
            </table>
            <div id="adminNoData" class="no-data hidden">
              æ²¡æœ‰ç¬¦åˆæœç´¢æ¡ä»¶çš„è®°å½•ï¼Œè¯·å°è¯•å…¶ä»–å…³é”®å­—ã€‚
            </div>
          </div>
        </div>
      </div>

    </div>
  </section>
</div>

<script>
  // ============================
  // ===== 1. è®¾å®š Access Code å’Œå­¦ç”Ÿèµ„æ–™ =====
  // ============================

  const ACCESS_CODES = {
    // è€å¸ˆçš„ admin codeï¼ˆåªç»™ä½ è‡ªå·±çŸ¥é“ï¼Œä¸ä¼šå‡ºç°åœ¨ç”»é¢æ–‡å­—ï¼‰
    "totadmin2024": {
      role: "admin",
      fullName: "Teacher Ooi",
      shortName: "ADMIN",
      code: "totadmin2024"
    },

    // å­¦ç”Ÿ / å®¶é•¿è´¦å·
    "LGCZ3690": {
      role: "student",
      fullName: "Lucas Goh Cheng Ze",
      shortName: "Lucas",
      code: "LGCZ3690"
    },
    "JGJQ3620": {
      role: "student",
      fullName: "Joey Goh Jia Qi",
      shortName: "Joey",
      code: "JGJQ3620"
    },
    "JKJW5791": {
      role: "student",
      fullName: "Jayden Kang Jia Wei",
      shortName: "Jayden",
      code: "JKJW5791"
    },
    "WO8765": {
      role: "student",
      fullName: "Wendy Ong",
      shortName: "Wendy",
      code: "WO8765"
    },
    "GYC3628": {
      role: "student",
      fullName: "Goh Yu Chen",
      shortName: "Yu Chen",
      code: "GYC3628"
    },
    "GYS4782": {
      role: "student",
      fullName: "Goh Yu Sen",
      shortName: "Yu Sen",
      code: "GYS4782"
    },
    "EAHY8297": {
      role: "student",
      fullName: "Emily Ang Hui Yin",
      shortName: "Emily",
      code: "EAHY8297"
    },
    "CYX6969": {
      role: "student",
      fullName: "Choo Yi Xuan",
      shortName: "Yi Xuan",
      code: "CYX6969"
    },
    "CYH6699": {
      role: "student",
      fullName: "Choo Yan Han",
      shortName: "Yan Han",
      code: "CYH6699"
    }
  };

  // ============================
  // ===== 2. è®¾å®šè¡¥ä¹ æ—¶é—´è¡¨ SCHEDULE =====
  // ============================

  const SCHEDULE = [
    // 2025å¹´12æœˆ1æ—¥ï¼ˆæ˜ŸæœŸä¸€ï¼‰ Lucas å®¶
    {
      date: "2025-12-01",
      dateLabel: "2025å¹´12æœˆ1æ—¥",
      day: "æ˜ŸæœŸä¸€",
      time: "7:00p.m.-9:00p.m.",
      location: "Lucas å®¶",
      students: ["Joey", "Joell", "Yi Xuan", "Vanessa"],
      subject: "å›½æ–‡ä½œæ–‡",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-01",
      dateLabel: "2025å¹´12æœˆ1æ—¥",
      day: "æ˜ŸæœŸä¸€",
      time: "7:00p.m.-9:00p.m.",
      location: "Lucas å®¶",
      students: ["Jayden"],
      subject: "å›½æ–‡ä½œæ–‡ + å›½æ–‡ç†è§£",
      homework: "",
      remark: ""
    },

    // 2025å¹´12æœˆ2æ—¥ï¼ˆæ˜ŸæœŸäºŒï¼‰
    {
      date: "2025-12-02",
      dateLabel: "2025å¹´12æœˆ2æ—¥",
      day: "æ˜ŸæœŸäºŒ",
      time: "7:00p.m.-9:00p.m.",
      location: "Lucas å®¶",
      students: ["Vanessa", "Emily", "Lucas", "Jayden"],
      subject: "ç§‘å­¦ï¼ˆScienceï¼‰",
      homework: "",
      remark: ""
    },

    // 2025å¹´12æœˆ3æ—¥ï¼ˆæ˜ŸæœŸä¸‰ï¼‰
    {
      date: "2025-12-03",
      dateLabel: "2025å¹´12æœˆ3æ—¥",
      day: "æ˜ŸæœŸä¸‰",
      time: "7:00p.m.-9:00p.m.",
      location: "Lucas å®¶",
      students: ["Emily", "Lucas", "Jayden"],
      subject: "åœ°ç†ï¼ˆGeografiï¼‰",
      homework: "",
      remark: ""
    },

    // 2025å¹´12æœˆ4æ—¥ï¼ˆæ˜ŸæœŸå››ï¼‰
    {
      date: "2025-12-04",
      dateLabel: "2025å¹´12æœˆ4æ—¥",
      day: "æ˜ŸæœŸå››",
      time: "7:00p.m.-9:00p.m.",
      location: "Lucas å®¶",
      students: ["Emily", "Lucas", "Jayden"],
      subject: "å†å²ï¼ˆSejarahï¼‰",
      homework: "",
      remark: ""
    },

    // 2025å¹´12æœˆ6æ—¥ï¼ˆæ˜ŸæœŸå…­ï¼‰
    {
      date: "2025-12-06",
      dateLabel: "2025å¹´12æœˆ6æ—¥",
      day: "æ˜ŸæœŸå…­",
      time: "5:00p.m.-7:00p.m.",
      location: "Lucas å®¶",
      students: ["Joey", "Joell", "Yi Xuan", "Jayden"],
      subject: "æ•°å­¦",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-06",
      dateLabel: "2025å¹´12æœˆ6æ—¥",
      day: "æ˜ŸæœŸå…­",
      time: "5:00p.m.-7:00p.m.",
      location: "Lucas å®¶",
      students: ["Vanessa", "Lucas"],
      subject: "ASK",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-06",
      dateLabel: "2025å¹´12æœˆ6æ—¥",
      day: "æ˜ŸæœŸå…­",
      time: "8:00p.m.-9:30p.m.",
      location: "Lucas å®¶",
      students: ["Joey", "Joell", "Yi Xuan", "Jayden"],
      subject: "åæ–‡ç†è§£",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-06",
      dateLabel: "2025å¹´12æœˆ6æ—¥",
      day: "æ˜ŸæœŸå…­",
      time: "9:30p.m.-11:00p.m.",
      location: "Lucas å®¶",
      students: ["Vanessa"],
      subject: "è‹±æ–‡ç†è§£",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-06",
      dateLabel: "2025å¹´12æœˆ6æ—¥",
      day: "æ˜ŸæœŸå…­",
      time: "9:30p.m.-11:00p.m.",
      location: "Lucas å®¶",
      students: ["Jayden"],
      subject: "è‹±æ–‡ç†è§£ + è‹±æ–‡ä½œæ–‡",
      homework: "",
      remark: ""
    },

    // 2025å¹´12æœˆ7æ—¥ï¼ˆæ˜ŸæœŸæ—¥ï¼‰
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "9:00a.m.-11:00a.m.",
      location: "Lucas å®¶",
      students: ["Yu Chen"],
      subject: "æ•°å­¦",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "12:00p.m.-2:00p.m.",
      location: "Lucas å®¶",
      students: ["Jayden", "Emily", "Vanessa", "Lucas"],
      subject: "åæ–‡ç†è§£ï¼ˆè¡¥è¯¾ï¼‰",
      homework: "",
      remark: "è¡¥è¯¾å®‰æ’ï¼Œè¯·åŠ¡å¿…å‡†æ—¶å‡ºå¸­ã€‚"
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "2:00p.m.-4:00p.m.",
      location: "Lucas å®¶",
      students: ["Jayden", "Emily", "Vanessa", "Lucas"],
      subject: "åæ–‡ä½œæ–‡",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "2:00p.m.-4:00p.m.",
      location: "Lucas å®¶",
      students: ["Yi Xuan"],
      subject: "è‹±æ–‡ç†è§£",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "4:00p.m.-7:00p.m.",
      location: "Lucas å®¶",
      students: ["Jayden"],
      subject: "æ•°å­¦",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "5:00p.m.-7:00p.m.",
      location: "Lucas å®¶",
      students: ["Yi Xuan"],
      subject: "å›½æ–‡ä½œæ–‡",
      homework: "",
      remark: ""
    },
    {
      date: "2025-12-07",
      dateLabel: "2025å¹´12æœˆ7æ—¥",
      day: "æ˜ŸæœŸæ—¥",
      time: "5:00p.m.-7:00p.m.",
      location: "Lucas å®¶",
      students: ["Joey", "Joell"],
      subject: "ç§‘å­¦",
      homework: "",
      remark: ""
    }
  ];

  // ============================
  // ===== 3. ç™»å½•ä¸ç”»é¢åˆ‡æ¢é€»è¾‘ =====
  // ============================

  function normalizeName(name) {
    return (name || "").toLowerCase().replace(/\s+/g, "");
  }

  function handleLogin() {
    const input = document.getElementById("accessCode");
    const code = (input.value || "").trim();
    const msg = document.getElementById("loginMessage");

    if (!code) {
      msg.textContent = "è¯·è¾“å…¥ access codeã€‚";
      msg.className = "message message-error";
      return;
    }

    const user = ACCESS_CODES[code];

    if (!user) {
      msg.textContent = "Access code ä¸æ­£ç¡®ï¼Œè¯·ç¡®è®¤åå†è¾“å…¥ã€‚";
      msg.className = "message message-error";
      return;
    }

    // æ¸…é™¤æç¤º
    msg.textContent = "";
    msg.className = "message";

    // åˆ‡æ¢åˆ°ä¸»ç”»é¢
    document.getElementById("loginSection").classList.add("hidden");
    document.getElementById("mainSection").classList.remove("hidden");

    const welcomeTitle = document.getElementById("welcomeTitle");
    const welcomeSubtitle = document.getElementById("welcomeSubtitle");

    if (user.role === "admin") {
      welcomeTitle.textContent = "æ¬¢è¿ä½¿ç”¨æ’è¯¾ç®¡ç†ç³»ç»Ÿ";
      welcomeSubtitle.textContent = "ç›®å‰æ˜¯è€å¸ˆç®¡ç†æ¨¡å¼ï¼Œä»¥ä¸‹ä¸ºå…¨éƒ¨å­¦ç”Ÿçš„è¡¥ä¹ å®‰æ’æ€»è§ˆã€‚";
      document.getElementById("studentView").classList.add("hidden");
      document.getElementById("adminView").classList.remove("hidden");
      renderAdminTable();
    } else {
      welcomeTitle.textContent = `æ¬¢è¿ï¼Œ${user.fullName}`;
      welcomeSubtitle.textContent = "ä»¥ä¸‹æ˜¯ä¸“å±ä½ çš„è¡¥ä¹ æ—¶é—´ä¸ç§‘ç›®å®‰æ’ã€‚";
      document.getElementById("studentView").classList.remove("hidden");
      document.getElementById("adminView").classList.add("hidden");
      renderStudentView(user);
    }
  }

  function handleLogout() {
    document.getElementById("mainSection").classList.add("hidden");
    document.getElementById("loginSection").classList.remove("hidden");
    document.getElementById("accessCode").value = "";
    document.getElementById("loginMessage").textContent = "";
    const search = document.getElementById("adminSearch");
    if (search) search.value = "";
  }

  // æŒ‰ Enter ä¹Ÿèƒ½ç™»å½•
  document.getElementById("accessCode")
    .addEventListener("keyup", function (event) {
      if (event.key === "Enter") {
        handleLogin();
      }
    });

  function renderStudentView(user) {
    const tbody = document.querySelector("#studentTable tbody");
    tbody.innerHTML = "";
    const noData = document.getElementById("studentNoData");

    document.getElementById("studentNameInTip").textContent = user.fullName;
    document.getElementById("studentFullName").textContent = user.fullName;

    const shortKey = normalizeName(user.shortName);

    const rows = SCHEDULE.filter((item) =>
      item.students.some((s) => normalizeName(s) === shortKey)
    );

    if (!rows.length) {
      noData.classList.remove("hidden");
      return;
    } else {
      noData.classList.add("hidden");
    }

    rows
      .sort((a, b) => {
        if (a.date === b.date) {
          return a.time.localeCompare(b.time);
        }
        return a.date.localeCompare(b.date);
      })
      .forEach((item) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${item.dateLabel}</td>
          <td>${item.day}</td>
          <td>${item.time}</td>
          <td>${item.location}</td>
          <td><span class="tag tag-subject">${item.subject}</span></td>
          <td>${item.homework || "<span style='color:#9ca3af;'>ï¼ˆæš‚æ— èµ„æ–™ï¼‰</span>"}</td>
          <td>${item.remark || ""}</td>
        `;
        tbody.appendChild(tr);
      });
  }

  function renderAdminTable() {
    const tbody = document.querySelector("#adminTable tbody");
    tbody.innerHTML = "";

    const rows = [...SCHEDULE].sort((a, b) => {
      if (a.date === b.date) {
        return a.time.localeCompare(b.time);
      }
      return a.date.localeCompare(b.date);
    });

    rows.forEach((item) => {
      const tr = document.createElement("tr");
      tr.innerHTML = `
        <td>${item.dateLabel}</td>
        <td>${item.day}</td>
        <td>${item.time}</td>
        <td>${item.location}</td>
        <td>${item.students.join("ã€")}</td>
        <td><span class="tag tag-subject">${item.subject}</span></td>
        <td>${item.homework || "<span style='color:#9ca3af;'>ï¼ˆæš‚æ— ï¼‰</span>"}</td>
        <td>${item.remark || ""}</td>
      `;
      tbody.appendChild(tr);
    });

    document.getElementById("adminNoData").classList.add("hidden");
  }

  function filterAdminTable() {
    const searchInput = document.getElementById("adminSearch");
    if (!searchInput) return;
    const keyword = (searchInput.value || "").toLowerCase().trim();
    const tbody = document.querySelector("#adminTable tbody");
    const rows = tbody.querySelectorAll("tr");
    let visibleCount = 0;

    rows.forEach((tr) => {
      const text = tr.textContent.toLowerCase();
      if (!keyword || text.includes(keyword)) {
        tr.style.display = "";
        visibleCount++;
      } else {
        tr.style.display = "none";
      }
    });

    const noData = document.getElementById("adminNoData");
    if (visibleCount === 0) {
      noData.classList.remove("hidden");
    } else {
      noData.classList.add("hidden");
    }
  }
</script>
</body>
</html>